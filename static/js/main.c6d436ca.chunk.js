(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{119:function(e,t,a){e.exports=a(402)},123:function(e,t,a){},401:function(e,t,a){},402:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),c=a(14),s=a.n(c),r=(a(123),a(43)),l=a(44),o=a(29),m=a(46),h=a(45),u=(a(124),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={apiKey:"a699c2e376e4574de23448fa88c36604",base:"api.openweathermap.org/data/2.5/weather?",city:n.props.cityName,temp:0,high:0,low:0,mainText:"",desc:"",iconUrl:"",intervalId:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getData(),this.intervalId=setInterval(this.getData.bind(this),5e3)}},{key:"getData",value:function(){var e=this,t="".concat(this.state.base,"q=").concat(this.state.city,"&units=imperial&appid=").concat(this.state.apiKey);fetch("https://"+t).then((function(e){return e.json()})).then((function(t){2!==Object.keys(t).length?e.setState({temp:Math.round(t.main.temp),mainText:t.weather[0].main,desc:t.weather[0].description,high:Math.round(t.main.temp_max),low:Math.round(t.main.temp_min),iconUrl:"http://openweathermap.org/img/wn/"+t.weather[0].icon+"@2x.png"}):e.setState({mainText:"Please enter a valid city name"})}),(function(e){console.log("Error: "+e)}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"render",value:function(){return i.a.createElement("div",{className:"cityWidget"},i.a.createElement("div",{className:"cityName"},this.state.city.toUpperCase()),i.a.createElement("img",{src:this.state.iconUrl,alt:this.state.description}),i.a.createElement("div",{className:"allTemps"},i.a.createElement("div",{className:"high"},i.a.createElement("span",null,"\u2b06"),this.state.high),i.a.createElement("div",{className:"tempDeg"},i.a.createElement("div",{className:"temp"},this.state.temp),i.a.createElement("div",{className:"degree"},"\xb0F")),i.a.createElement("div",{className:"low"},i.a.createElement("span",null,"\u2b07"),this.state.low)),i.a.createElement("div",{className:"mainText"},this.state.mainText))}}]),a}(i.a.Component)),d=(a(401),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={cities:[],city:""},n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n.deleteCityWidget=n.deleteCityWidget.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"handleSubmit",value:function(e){if(e.preventDefault(),0!==this.state.city.length){var t={text:this.state.city,key:Date.now()};this.setState((function(e){return{cities:e.cities.concat(t),city:""}}))}}},{key:"deleteCityWidget",value:function(e){console.log("Key: "+e);var t=this.state.cities.filter((function(t){return t.key!==e}));this.setState({cities:t})}},{key:"handleChange",value:function(e){this.setState({city:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.cities.map((function(t){return i.a.createElement("div",{className:"outerWidget",key:t.key},i.a.createElement("span",{className:"deleteWidget",onClick:function(){return e.deleteCityWidget(t.key)}},"\u2716"),i.a.createElement(u,{cityKey:t.key,cityName:t.text}))}));return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"main"},i.a.createElement("div",{className:"header"},i.a.createElement("div",null,"Weather Widgets")),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("input",{type:"text",className:"searchBar",value:this.state.city,placeholder:"Search City",onChange:this.handleChange}),i.a.createElement("button",{type:"submit",onClick:this.handleSubmit},"Add City")),i.a.createElement("div",{className:"content"},t)))}}]),a}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[119,1,2]]]);
//# sourceMappingURL=main.c6d436ca.chunk.js.map